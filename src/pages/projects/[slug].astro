---
import { PROJECTS } from "@/data";
import { Layout } from "@/layouts";
import { Navbar, ProjectDetails } from "@/sections";

export function getStaticPaths() {
  return PROJECTS.map((project) => ({
    params: {
      slug: project.slug,
    },
  }));
}

const { slug } = Astro.params;

const [project] = PROJECTS.filter((project) => project.slug == slug);

if (!project) {
  return new Response("Projects not found", { status: 404 });
}
---

<Layout title={`Juan Pablo Machado - ${project.name}`}>
  <Navbar />
  <ProjectDetails project={project} />
</Layout>
