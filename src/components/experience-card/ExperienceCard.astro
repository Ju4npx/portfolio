---
import type { Experience } from "@/types";

interface Props {
  experience: Experience;
}

const { experience } = Astro.props;
---

<div
  class="group relative -ml-5 flex items-center justify-between md:ml-0 md:justify-normal md:odd:flex-row-reverse"
>
  {/* Icon */}
  <div
    class="z-1 flex size-10 shrink-0 items-center justify-center md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2"
  >
    <div
      class="shadow-glow relative z-10 flex items-center justify-center rounded-full border-secondary shadow-primary"
    >
      <div class="rounded-full border-0 bg-primary p-1.5 backdrop-blur"></div>
    </div>
  </div>
  {/* Content */}
  <div
    class="hover:glow-shift w-full rounded-3xl border border-white/25 bg-black/25 p-6 shadow backdrop-blur-3xl md:w-[calc(50%-2.5rem)]"
  >
    <span
      class="mb-1 flex flex-col items-start justify-between md:flex-row md:items-center"
    >
      <h3 class="text-2xl font-bold text-white">{experience.role}</h3>
      <time class="text-xs text-white/50">{experience.date}</time>
    </span>
    <span class="flex items-center gap-2 text-sm font-medium text-white">
      <a
        href={experience.website}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-2"
      >
        <img
          src={experience.logo}
          alt={`${experience.company} Logo`}
          class="size-4 rounded-full"
        />
        <h4>{experience.company}</h4>
      </a>
    </span>

    <ul class="ml-6 mt-4 flex list-disc flex-col gap-2 text-white/75">
      {
        experience.tasks.map((task) => (
          <li class="experience-item" set:html={task} />
        ))
      }
    </ul>
  </div>
</div>
