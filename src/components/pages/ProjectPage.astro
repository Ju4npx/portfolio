---
import { PROJECTS } from "@/data";
import { Layout } from "@/layouts";
import { Navbar, ProjectDetails } from "@/sections";
import i18next, { t } from "i18next";

i18next.changeLanguage(Astro.currentLocale);
const { slug } = Astro.params;

const [project] = PROJECTS.filter((project) => project.slug == slug);

if (!project) {
  return new Response(JSON.stringify(t("projects.not-found")), { status: 404 });
}
---

<Layout title={`Juan Pablo Machado - ${project.name}`}>
  <Navbar />
  <ProjectDetails project={project} />
</Layout>
